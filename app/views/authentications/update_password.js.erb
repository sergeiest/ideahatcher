if(document.getElementById('flash_success') != null){
    document.getElementById('flash_success').remove();
}
if(document.getElementById('flash_error') != null){
    document.getElementById('flash_error').remove();
}

var login_div = document.getElementsByTagName('form')[0];

var error_div = document.createElement('div');
<% if flash[:error].nil? %>
    error_div.innerHTML = "<%= flash[:success] %>";
    error_div.id = "flash_success";
<% else %>
    error_div.innerHTML = "<%= flash[:error] %>";
    error_div.id = "flash_error";
<% end %>

login_div.parentNode.insertBefore(error_div, login_div);
